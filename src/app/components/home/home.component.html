<app-navbar></app-navbar>
<div class="flex justify-center items-center p-4">
  <div class="flex justify-start bg-gray-100 rounded-lg flex-col w-full p-5">
    <!-- title -->
    <h2 class="font-bold text-xl">My Bank Account</h2>

    <!-- account info -->
    <div class="">
      <h2 *ngIf="accountExists">{{ userAccount.name }}</h2>
      <h4 *ngIf="accountExists">Description: {{ userAccount.description }}</h4>
      <h4 *ngIf="accountExists">
        Created On: {{ userAccount.creationDate | date : "short" }}
      </h4>
      <button
        class="btn btn-outline-secondary btn-lg"
        *ngIf="accountExists"
        [routerLink]="['/account']"
      >
        Account Details
      </button>

      <button
        class="btn btn-outline-secondary btn-lg"
        *ngIf="accountExists"
        [routerLink]="['/income']"
      >
        Income Details
      </button>

      <button
        class="btn btn-outline-secondary btn-lg"
        *ngIf="accountExists"
        [routerLink]="['/recent/transactions']"
      >
        Recent Transactions
      </button>

      <h1 *ngIf="accountExists">Balance: ${{ userAccount.balance }}</h1>
    </div>

    <!-- account message -->
    <p>{{ accountMessage }}</p>

    <!-- create account form -->
    <button
      class="btn btn-outline-primary btn-lg"
      *ngIf="!createFormOpen && !accountExists"
      (click)="openCreateForm()"
    >
      Open Account
    </button>

    <!-- form for creating an account -->
    <form class="input-form" *ngIf="createFormOpen">
      <div class="input-group mb-3">
        <input
          type="text"
          class="form-control"
          [formControl]="accountName"
          placeholder="Account Name"
          id="basic-name"
          aria-describedby="basic-addon3"
        />
      </div>
      <div class="input-group mb-3" *ngIf="!accountExists">
        <span class="input-group-text">$</span>
        <input
          type="number"
          placeholder="Balance"
          [formControl]="balance"
          class="form-control"
          aria-label="Amount (to the nearest dollar)"
        />
      </div>
      <div class="input-group">
        <textarea
          class="form-control"
          [formControl]="accountDescription"
          placeholder="Account Description..."
          aria-label="With textarea"
        ></textarea>
      </div>
      <button
        id="submitButton"
        class="btn btn-outline-secondary btn-lg"
        type="submit"
        (click)="
          attemptUpsertAccount(
            accountName.value,
            balance.value,
            accountDescription.value
          )
        "
      >
        Save
      </button>
    </form>
  </div>
</div>
